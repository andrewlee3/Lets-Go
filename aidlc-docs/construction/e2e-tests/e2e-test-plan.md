# E2E 테스트 계획서

**프로젝트**: 테이블오더 서비스  
**최종 수정**: 2026-02-25  
**도구**: Playwright  
**상태**: FE 대기 중

---

## 1. 테스트 환경

### 필요 조건
```bash
# 1. Backend 서버 실행
cd backend && npm run dev  # http://localhost:3000

# 2. Frontend 서버 실행 (FE 완료 후)
cd frontend && npm run dev  # http://localhost:3001
```

### 테스트 계정
| 항목 | 값 |
|------|-----|
| Store ID | `store1` |
| Admin | `admin` / `admin123` |
| 테이블 비밀번호 | `table123` |

---

## 2. 테스트 시나리오

### 2.1 고객 플로우

#### TC-E2E-001: 메뉴 조회 및 주문
**우선순위**: P0 (필수)

| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 테이블 1 접속 (table123) | 메뉴 페이지 표시 |
| 2 | 메뉴 확인 | 4개 카테고리, 8개 메뉴 |
| 3 | "불고기 버거" 2개 추가 | 장바구니 17,000원 |
| 4 | "콜라" 1개 추가 | 장바구니 19,000원 |
| 5 | 주문 버튼 클릭 | 주문 번호 표시 |
| 6 | 5초 대기 | 메뉴 화면 복귀 |
| 7 | 주문 내역 확인 | "주문접수" 상태 |

#### TC-E2E-002: 장바구니 수량 변경
**우선순위**: P1

| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 메뉴 1개 추가 | 장바구니 표시 |
| 2 | 수량 3으로 증가 | 금액 3배 |
| 3 | 수량 1로 감소 | 금액 1배 |
| 4 | 삭제 버튼 | 장바구니 비움 |

#### TC-E2E-003: 새로고침 후 장바구니 유지
**우선순위**: P2

| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 메뉴 2개 추가 | 장바구니 표시 |
| 2 | 페이지 새로고침 | 장바구니 유지 |

---

### 2.2 관리자 플로우

#### TC-E2E-010: 관리자 로그인
**우선순위**: P0 (필수)

| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | /admin/login 접속 | 로그인 폼 표시 |
| 2 | store1/admin/admin123 입력 | - |
| 3 | 로그인 버튼 클릭 | 대시보드 이동 |
| 4 | 대시보드 확인 | 테이블 카드 그리드 |

#### TC-E2E-011: 실시간 주문 모니터링
**우선순위**: P0 (필수)

| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 관리자 대시보드 접속 | SSE 연결 |
| 2 | 테이블 1에서 주문 생성 | - |
| 3 | 대시보드 확인 | 2초 내 새 주문 표시 |

#### TC-E2E-012: 주문 상태 변경
**우선순위**: P1

| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 주문 선택 | 상태: 주문접수 |
| 2 | "조리중" 변경 | 상태 업데이트 |
| 3 | 고객 화면 확인 | 상태 동기화 |

#### TC-E2E-013: 테이블 이용 완료
**우선순위**: P1

| 단계 | 액션 | 예상 결과 |
|------|------|----------|
| 1 | 테이블 1 선택 | 주문 목록 표시 |
| 2 | "이용 완료" 클릭 | 확인 팝업 |
| 3 | 확인 클릭 | 주문 목록 비움 |

---

## 3. 테스트 실행 방법

### FE 완료 후 실행

```bash
# 1. Playwright 설치 (최초 1회)
cd e2e
npm init -y
npm install -D @playwright/test
npx playwright install

# 2. 서버 실행
cd backend && npm run dev &
cd frontend && npm run dev &

# 3. 테스트 실행
npx playwright test

# 4. 특정 테스트만
npx playwright test -g "TC-E2E-001"

# 5. UI 모드 (디버깅)
npx playwright test --ui
```

---

## 4. 테스트 우선순위

| 우선순위 | 테스트 | 설명 |
|----------|--------|------|
| **P0** | E2E-001, E2E-010, E2E-011 | 핵심 플로우 |
| **P1** | E2E-002, E2E-012, E2E-013 | 주요 기능 |
| **P2** | E2E-003 | 부가 기능 |

---

## 5. 예상 소요 시간

| 항목 | 시간 |
|------|------|
| 고객 플로우 (3개) | ~2분 |
| 관리자 플로우 (4개) | ~3분 |
| **전체** | **~5분** |
