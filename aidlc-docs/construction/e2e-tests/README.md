# E2E 테스트 가이드

**프로젝트**: 테이블오더 서비스  
**최종 수정**: 2026-02-25  
**상태**: FE 대기 중

---

## 📋 테스트 종류 요약

| 종류 | 위치 | 도구 | 상태 |
|------|------|------|------|
| Unit Test | `backend/tests/unit/` | Jest | ✅ 완료 |
| Integration Test | `backend/tests/integration/` | Jest + supertest | ✅ 완료 |
| **E2E Test** | `e2e/` (예정) | Playwright | ⏳ FE 대기 |

---

## 🚀 빠른 시작

### 1. 백엔드 테스트 실행 (지금 가능)

```bash
cd backend

# Unit 테스트
npm test

# 특정 테스트만
npm test -- auth.service
```

### 2. E2E 테스트 실행 (FE 완료 후)

```bash
# 1) 백엔드 서버 실행
cd backend && npm run dev

# 2) 프론트엔드 서버 실행
cd frontend && npm run dev

# 3) E2E 테스트 실행
cd e2e && npx playwright test
```

---

## 📖 E2E 테스트 시나리오

### 고객 플로우

| ID | 시나리오 | 설명 |
|----|----------|------|
| E2E-001 | 메뉴 조회 → 주문 | 메뉴 보기 → 장바구니 담기 → 주문 완료 |
| E2E-002 | 장바구니 수량 변경 | 수량 증가/감소/삭제 |
| E2E-003 | 새로고침 후 장바구니 유지 | localStorage 확인 |

### 관리자 플로우

| ID | 시나리오 | 설명 |
|----|----------|------|
| E2E-010 | 관리자 로그인 | store1/admin/admin123 |
| E2E-011 | 실시간 주문 확인 | SSE로 새 주문 수신 |
| E2E-012 | 주문 상태 변경 | 주문접수 → 조리중 → 완료 |
| E2E-013 | 테이블 이용 완료 | 세션 종료 처리 |

---

## 🎯 핵심 시나리오 상세

### E2E-001: 고객 주문 전체 플로우

```
1. 테이블 태블릿 접속 (테이블 1, 비밀번호: table123)
2. 메뉴 페이지 확인 → 4개 카테고리, 8개 메뉴 표시
3. "불고기 버거" 2개 장바구니 추가
4. "콜라" 1개 장바구니 추가
5. 장바구니 확인 → 2개 항목, 19,000원
6. 주문 버튼 클릭
7. 주문 번호 표시 확인
8. 5초 후 메뉴 화면 복귀
9. 주문 내역 페이지 → "주문접수" 상태 확인
```

### E2E-010: 관리자 로그인 → 주문 관리

```
1. /admin/login 접속
2. store1 / admin / admin123 입력
3. 로그인 버튼 클릭
4. 대시보드 이동 확인
5. 테이블 카드 그리드 표시 확인
6. 새 주문 발생 시 실시간 업데이트 확인 (SSE)
7. 주문 클릭 → 상태 변경 (조리중)
8. 고객 화면에서 상태 변경 확인
```

---

## 🔧 테스트 데이터

| 항목 | 값 |
|------|-----|
| Store ID | `store1` |
| Admin 계정 | `admin` / `admin123` |
| 테이블 비밀번호 | `table123` (1~10번 테이블) |
| Backend URL | `http://localhost:3000` |
| Frontend URL | `http://localhost:3001` |

---

## 📁 관련 문서

- `e2e-test-plan.md` - 전체 테스트 계획 (상세)
- `api-test-cases.md` - API 수동 테스트 가이드 (curl)
- `playwright-mcp-guide.md` - Playwright 설정 가이드

---

## ⏳ 다음 단계

1. **FE 완료 대기**
2. FE URL 확인 후 E2E 테스트 코드 작성
3. Playwright 설정 및 실행

---

## ⚠️ 참고사항

- 현재 문서는 **초안 상태**입니다
- FE 추가 후 실제 컴포넌트/URL에 맞게 수정 예정
- 테스트 시나리오 컨셉은 FE 구조 확정 후 재정의
